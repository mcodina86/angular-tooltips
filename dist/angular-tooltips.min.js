!function(){"use strict";function t(o,i){return{restrict:"A",scope:{tooltip:"@",fixedPosition:"=",tooltipClass:"@"},link:function(g,s,e){g.createTooltip=function(t){e.tooltip&&(g.tooltipElement=angular.element("<div>").addClass("angular-tooltip").addClass(g.tooltipClass),angular.element(document).find("body").append(g.tooltipElement),g.updateTooltip(e.tooltip),g.tooltipElement.addClass("angular-tooltip-fade-in"))},g.updateTooltip=function(t){g.tooltipElement.html(t),i(g.tooltipElement.contents())(g);var e=g.calculatePosition(g.tooltipElement,g.getDirection());g.tooltipElement.addClass("angular-tooltip-"+e.direction).css(e),o(function(){s.removeAttr("ng-attr-tooltip"),s.removeAttr("tooltip")})},g.$watch("tooltip",function(t){g.tooltipElement&&g.updateTooltip(t)}),g.removeTooltip=function(){angular.element(document.querySelectorAll(".angular-tooltip")).remove()},g.getDirection=function(){return s.attr("tooltip-direction")||"top"},g.getBottomSpace=function(){return s.attr("tooltip-space-bottom")||0},g.getTopSpace=function(){return s.attr("tooltip-space-top")||0},g.getLeftSpace=function(){return s.attr("tooltip-space-left")||0},g.getRightSpace=function(){return s.attr("tooltip-space-right")||0},g.calculatePosition=function(t,e){var o,i=t[0].getBoundingClientRect(),n=s[0].getBoundingClientRect(),l=window.scrollX||document.documentElement.scrollLeft,p=window.scrollY||document.documentElement.scrollTop,r=12,a={},c=null;if(g.stringStartsWith(e,"left")?(o=g.getAddedSpace(g.getLeftSpace()),a.left=n.left-i.width-6+l-o):g.stringStartsWith(e,"right")?(o=g.getAddedSpace(g.getRightSpace()),a.left=n.left+n.width+6+l-o):g.stringContains(e,"left")?(o=g.getAddedSpace(g.getLeftSpace()),a.left=n.left-i.width+r+l-o):g.stringContains(e,"right")?(o=g.getAddedSpace(g.getRightSpace()),a.left=n.left+n.width-r+l-o):a.left=n.left+n.width/2-i.width/2+l,g.stringStartsWith(e,"top")){o=g.getAddedSpace(g.getTopSpace());var d=g.getTopSpace()||0;"string"==typeof d&&(d=parseInt(d)),a.top=n.top-i.height-6+p-o}else g.stringStartsWith(e,"bottom")?(o=g.getAddedSpace(g.getBottomSpace()),a.top=n.top+n.height+6+p):g.stringContains(e,"top")?(o=g.getAddedSpace(g.getTopSpace()),a.top=n.top-i.height+r+p):g.stringContains(e,"bottom")?(o=g.getAddedSpace(g.getBottomSpace()),a.top=n.top+n.height-r+p):a.top=n.top+n.height/2-i.height/2+p;return g.fixedPosition&&(a.left<l?c=e.replace("left","right"):a.left+i.width>window.innerWidth+l&&(c=e.replace("right","left")),a.top<p?c=e.replace("top","bottom"):a.top+i.height>window.innerHeight+p&&(c=e.replace("bottom","top")),c)?g.calculatePosition(t,c):(a.left+="px",a.top+="px",a.direction=e,a)},g.getAddedSpace=function(t){return t?parseInt(t):0},g.stringStartsWith=function(t,e){return t.substr(0,e.length)===e},g.stringContains=function(t,e){return-1!==t.indexOf(e)},e.tooltip?(s.on("mouseover",g.createTooltip),s.on("mouseout",g.removeTooltip)):(s.off("mouseover",g.createTooltip),s.off("mouseout",g.removeTooltip)),s.on("destroy",g.removeTooltip),g.$on("$destroy",g.removeTooltip)}}}t.$inject=["$timeout","$compile"],angular.module("tooltips",[]).directive("tooltip",t)}();